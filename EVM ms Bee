		ORG 0000H
		LJMP 500H
		ORG 0003H
		LJMP 300H
		ORG 0013H
		LJMP 400H
		ORG 0100H
		DB "PLEASE VOTE?"
		ORG 300H
		INC @R1
        MOV P2,#01H
		ACALL CMD 
		ACALL DELAY
		MOV P2,#80H
		ACALL CMD
		ACALL DELAY	
		MOV P2,#06H
		ACALL CMD
		ACALL DELAY	
		MOV P2,#20H
		ACALL DATA1 
		ACALL DELAY
		MOV P2,#20H
		ACALL DATA1
		ACALL DELAY
    	MOV P2,#'A'
		ACALL DATA1
		ACALL DELAY
		MOV P2,#20H
		ACALL DATA1
		ACALL DELAY
		MOV P2,#20H
		ACALL DATA1
		ACALL DELAY
		MOV P2,#'B'
		ACALL DATA1
		ACALL DELAY
		MOV P2,#0C0H
		ACALL CMD
		ACALL DELAY
		MOV P2,#20H
		ACALL DATA1
		ACALL DELAY
        MOV P2,#20H
		ACALL DATA1 
		ACALL DELAY
		MOV A,@R1
		MOV P2,A
		ACALL DATA1
		ACALL DELAY
		MOV P2,#20H
		ACALL DATA1 
		ACALL DELAY
		MOV P2,#20H
		ACALL DATA1 
		ACALL DELAY
		MOV A,@R0
		MOV P2,A
		ACALL DATA1 
		ACALL DELAY
        MOV R4,#0FFH        ;2ND SCREEN VIEW DELAY	REGISTER DELAY
D1:		MOV R6,#0FFH
D2:		NOP
        NOP
        DJNZ R6,D2
        DJNZ R4,D1
		CLR P1.6
		RETI
		ORG 400H
		
		INC @R0
		MOV P2,#01H
		ACALL CMD 
		ACALL DELAY
		MOV P2,#80H
		ACALL CMD
		ACALL DELAY	
		MOV P2,#06H
		ACALL CMD
		ACALL DELAY	
		MOV P2,#20H
		ACALL DATA1 
		ACALL DELAY
		MOV P2,#20H
		ACALL DATA1
		ACALL DELAY
		MOV P2,#'A'
		ACALL DATA1
		ACALL DELAY
		MOV P2,#20H
		ACALL DATA1 
		ACALL DELAY
		MOV P2,#20H
		ACALL DATA1
		ACALL DELAY
		MOV P2,#'B'
		ACALL DATA1
		ACALL DELAY
		MOV P2,#0C0H
		ACALL CMD
		ACALL DELAY
      	MOV P2,#20H
		ACALL DATA1
		ACALL DELAY
        MOV P2,#20H
		ACALL DATA1 
		ACALL DELAY
		MOV A,@R1
		MOV P2,A
		ACALL DATA1
		ACALL DELAY
		MOV P2,#20H
		ACALL DATA1 
		ACALL DELAY
		MOV P2,#20H
		ACALL DATA1 
		ACALL DELAY
		MOV A,@R0
		MOV P2,A
		ACALL DATA1 
		ACALL DELAY
		MOV R2,#0FFH        ;2ND SCREEN VIEW DELAY	REGISTER DELAY
DL:		MOV R3,#0FFH
DH:		NOP
        NOP
        DJNZ R3,DH
        DJNZ R2,DL
		CLR P1.7
	    RETI
		ORG 500H
MAIN:  	MOV IE,#85H
        SETB TCON.0
		SETB TCON.2
		MOV R1,#71H    ;STORES VOTES OF A
		MOV R0,#70H
	   MOV @R1,#30H
	   MOV @R0,#30H
		
		MOV P2,#01H 	   ;LCD INITIALISATION	  
    	ACALL CMD		   ;LCD CONNECTED TO P2
		ACALL DELAY
		MOV P2,#38H 
		ACALL CMD
		ACALL DELAY
		MOV P2,#80H
		ACALL CMD
		ACALL DELAY
		MOV P2,#06H
		ACALL CMD
		ACALL DELAY
		MOV P2,#0EH
		ACALL CMD
		ACALL DELAY
		MOV DPTR,#100H
AGAIN:	CLR A
		MOVC A,@A+DPTR
		MOV R5,A
		CLR C
		SUBB A,#3FH        ;HEX OF ?
		JZ SKIP
		MOV A,R5
		MOV P2,A
		ACALL DATA1
		ACALL DELAY
		INC DPTR
		SJMP AGAIN
SKIP:	SJMP SKIP
 CMD:   CLR P1.0
		CLR P1.1		  ;CONTROL PINS OF LCD CONNECTED TO P2
		SETB P1.2
		ACALL DELAY 
		CLR P1.2
		RET
DELAY: 	MOV R7,#0FFH
BACK:	NOP
		NOP
		DJNZ R7,BACK 
		RET



DATA1:  SETB P1.0
		CLR P1.1
		SETB P1.2
		ACALL DELAY
		CLR P1.2
		RET


		END


	   
